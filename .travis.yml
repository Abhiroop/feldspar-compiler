language: haskell

ghc:
  - 7.8
  - 7.6
  - 7.4
    
before_install:
  # Fetch the latest feldspar-language from github
  # Note that we will fetch a branch with the same name as the current
  # branch in feldspar-compiler. This is to support CI of new features
  # depending on features in feldspar-language.
  - git clone -v https://github.com/Feldspar/feldspar-language
  - cd feldspar-language && git checkout $TRAVIS_BRANCH || git checkout master
  - echo "Using feldspar-language from " && git rev-parse HEAD
  - cd $TRAVIS_BUILD_DIR
  - cabal install alex happy
  - cabal sandbox init
  - cabal sandbox add-source feldspar-language

